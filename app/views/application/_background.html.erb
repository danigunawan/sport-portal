<!--Specify for each controller and action which background to use, action specification is optional -->
<%-
  $background = ""
  $new_background = "navbar-overlap background"
  $no_background = "navbar-overlap"
  case request.user_agent =~ /Mobile|webOS/ # check if user is moving a mobile device
    when true   # in case it is a mobile device
      case controller_name
        when ""
          $background = $no_background
        else
          $background = $no_background
      end
    else  # in case it is not a mobile device
      case controller_name
        when "sessions"
          case action_name
            when "new"
              $background = $new_background
            else
              $background = $no_background
          end
        when "users"
          case action_name
            when "new"
              $background = $new_background
            when "create"
              $background = $new_background
            else
              $background = $no_background
          end
        when "welcome"
          case action_name
            when "index"
              $background = $new_background
            else
              $background = $no_background
          end
        else
          $background = $no_background
        end
    end
%>
<!-- return the correct background for the specific controller and action -->
<%=$background%>